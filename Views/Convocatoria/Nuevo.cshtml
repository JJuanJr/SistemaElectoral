@using System.Data
@model SistemaElectoral.Models.Convocatoria

@{
    ViewBag.Title = "Convocatoria";
}

<h2 class="text-light text-center mb-4">CREAR NUEVA CONVOCATORIA</h2>

<form id="nuevo" asp-action="Guardar" method="post" enctype="multipart/form-data">

        <div class="form-group" id="input-100">
            <label class="text-light">NOMBRE</label>
            @Html.EditorFor(m => m.nombre, new { htmlAttributes = new { @class = "form-control" } })
        </div>

        <div class="form-group" id="size-30">
            <label class="text-light">FECHA INICIO</label>
            @Html.EditorFor(m => m.fecha_inicio, new { htmlAttributes = new { @class = "form-control" } })
        </div>

        <div class="form-group" id="size-30">
            <label class="text-light">FECHA FIN</label>
            @Html.EditorFor(m => m.fecha_fin, new { htmlAttributes = new { @class = "form-control" } })
        </div>

        <div class="form-group" id="size-30">
            <label class="text-light">CARGO</label>
            <select asp-for="fk_id_cargo" asp-items="@(new SelectList( (ViewData["Cargo"] as List<CargoModel>), "id", "nombre" ))" class="form-control"></select>
        </div>

        <div class="form-group" id="input-50">
            <label class="text-light">FECHA VOTACIÓN</label>
            <select asp-for="fk_id_eleccion" asp-items="@(new SelectList( (ViewData["Eleccion"] as List<EleccionModel>), "id", "fecha" ))" class="form-control"></select>
        </div>

        <div class="form-group">
            <label class="text-light">CANTIDAD MAXIMA DE GANADORES</label>
            <input asp-for="cant_ganadores" class="form-control" type="number" required/>
        </div>

        <div class="form-group">
            <label class="text-light">AGREGAR CONDICIONES</label>
            <table class="text-light">
                @for(int i = 0; i < Model.condiciones.Count; i++)
                {
                    <tr>
                        <td>
                            <input type="hidden" asp-for="@Model.condiciones[i].Value" />
                            <input asp-for="@Model.condiciones[i].Selected" />
                            <label>@Model.condiciones[i].Text</label>
                        </td>
                    </tr>
                }
            </table>
        </div>

        <div class="form-group text-center" id="botones-centro">
            <button class="btn btn-light" type="submit">CREAR</button>
        </div>
    
</form>


<div class="text-lg-end">
    <a asp-action="Index" class="text-light">VOLVER</a>
</div>
